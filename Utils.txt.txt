Utility functions of version 2